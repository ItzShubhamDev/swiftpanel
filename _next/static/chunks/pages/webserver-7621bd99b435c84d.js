(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[472],{3008:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/webserver",function(){return r(5848)}])},1057:function(e,s,r){"use strict";var n=r(1527);r(959);let l={logo:(0,n.jsx)("span",{children:"SwiftPanel"}),project:{link:"https://github.com/itzshubhamdev/swiftpanel"},docsRepositoryBase:"https://github.com/itzshubhamdev/swiftpanel",footer:{text:"MIT ".concat(new Date().getFullYear()," \xa9 ItzShubhamDev.")}};s.Z=l},5848:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return a.Z}});var n=r(1527),l=r(7265),o=r(4603),i=r(1057);r(6971);var t=r(313);r(8090);var a=r(5228);function c(e){let s=Object.assign({h2:"h2",p:"p",pre:"pre",code:"code",span:"span"},(0,t.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h2,{id:"getting-certificates",children:"Getting Certificates"}),"\n",(0,n.jsx)(s.p,{children:"We can use letsencrypt to get free SSL certificates for our domain."}),"\n",(0,n.jsx)(s.pre,{"data-language":"bash","data-theme":"default",children:(0,n.jsxs)(s.code,{"data-language":"bash","data-theme":"default",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"sudo "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"apt"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"install"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"certbot"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"python3-certbot-nginx"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"sudo "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"certbot"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"--nginx"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-d"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"example.com"})]})]})}),"\n",(0,n.jsx)(s.h2,{id:"nginx-configuration",children:"Nginx Configuration"}),"\n",(0,n.jsxs)(s.p,{children:["We can use the following configuration to proxy the requests to our application.\r\nMake sure to replace ",(0,n.jsx)(s.code,{children:"<domain>"})," with your domain and ",(0,n.jsx)(s.code,{children:"<port>"})," with the port your application is running on."]}),"\n",(0,n.jsx)(s.pre,{"data-language":"nginx","data-theme":"default",children:(0,n.jsxs)(s.code,{"data-language":"nginx","data-theme":"default",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"server"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" listen "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"80;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" server_name "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<domain>;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"301"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" https://$server_name$request_uri;"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"server"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" listen "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"443 http2 ssl;"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" server_name "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<domain>;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ssl_certificate "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"/etc/letsencrypt/live/<domain>/fullchain.pem;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ssl_certificate_key "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"/etc/letsencrypt/live/<domain>/privkey.pem;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ssl_session_cache "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"shared:SSL:10m;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ssl_protocols "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"SSLv3 TLSv1.2 TLSv1.3;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ssl_ciphers "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"HIGH:!aNULL:!MD5;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ssl_prefer_server_ciphers "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"on;"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"location"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" / {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" proxy_pass "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"http://localhost:<port>;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" proxy_http_version "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"1.1;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" proxy_set_header "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"Upgrade $http_upgrade;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" proxy_set_header "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"Connection "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'upgrade'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" proxy_set_header "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"Host $host;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" proxy_set_header "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"X-Real-IP $remote_addr;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" proxy_set_header "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"X-Forwarded-Proto $scheme;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" proxy_set_header "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"X-Forwarded-For $proxy_add_x_forwarded_for;"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" proxy_cache_bypass "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"$http_upgrade;"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:" "})]})})]})}e=r.hmd(e),(0,l.j)({Content:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,t.ah)(),e.components);return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)},nextraLayout:o.ZP,hot:e.hot,pageOpts:{filePath:"pages/webserver.mdx",route:"/webserver",frontMatter:{},pageMap:[{kind:"MdxPage",name:"database",route:"/database"},{kind:"MdxPage",name:"dependencies",route:"/dependencies"},{kind:"MdxPage",name:"deployment",route:"/deployment"},{kind:"MdxPage",name:"environment",route:"/environment"},{kind:"MdxPage",name:"index",route:"/"},{kind:"MdxPage",name:"installation",route:"/installation"},{kind:"MdxPage",name:"webserver",route:"/webserver"},{kind:"Meta",data:{index:"Introduction",dependencies:"Dependencies",installation:"Installation",database:"Database",environment:"Environment",webserver:"Web Server",deployment:"Deployment",demo:{title:"Demo ↗",type:"page",href:"https://swiftpanel.itzshubhamdev.com",newWindow:!0}}}],headings:[{depth:2,value:"Getting Certificates",id:"getting-certificates"},{depth:2,value:"Nginx Configuration",id:"nginx-configuration"}],timestamp:1738266966e3,flexsearch:{codeblocks:!0},title:"Webserver"},themeConfig:i.Z,pageNextRoute:"/webserver",pageOptsChecksum:void 0,dynamicMetaModules:[]})}},function(e){e.O(0,[774,589,888,179],function(){return e(e.s=3008)}),_N_E=e.O()}]);